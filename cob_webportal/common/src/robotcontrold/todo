TODO:
 - Remove the children array. Potenially dangerous
 - Move saveComponent to user